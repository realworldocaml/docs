<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Sys (opam-core.OpamStd.Sys)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><header><nav><a href="../index.html">Up</a> â€“ package <a href="../../index.html">opam-core</a></nav><h1>Module <code>OpamStd.Sys</code></h1></header><section><header><h3 id="querying"><a href="#querying" class="anchor"></a>Querying</h3></header><dl><dt id="val-tty_out"><a href="#val-tty_out" class="anchor"></a><code><span class="keyword">val </span>tty_out : bool</code></dt><dd><p>true if stdout is bound to a terminal</p></dd></dl><dl><dt id="val-tty_in"><a href="#val-tty_in" class="anchor"></a><code><span class="keyword">val </span>tty_in : bool</code></dt><dd><p>true if stdin is bound to a terminal</p></dd></dl><dl><dt id="val-terminal_columns"><a href="#val-terminal_columns" class="anchor"></a><code><span class="keyword">val </span>terminal_columns : unit <span>&#8209;&gt;</span> int</code></dt><dd><p>Queried lazily, but may change on SIGWINCH</p></dd></dl><dl><dt id="val-is_windows"><a href="#val-is_windows" class="anchor"></a><code><span class="keyword">val </span>is_windows : bool</code></dt><dd><p>True only if the host OS is Win32 (not cygwin)</p></dd></dl><dl><dt id="val-home"><a href="#val-home" class="anchor"></a><code><span class="keyword">val </span>home : unit <span>&#8209;&gt;</span> string</code></dt><dd><p>The user's home directory. Queried lazily</p></dd></dl><dl><dt id="val-etc"><a href="#val-etc" class="anchor"></a><code><span class="keyword">val </span>etc : unit <span>&#8209;&gt;</span> string</code></dt><dd><p>The /etc directory</p></dd></dl><dl><dt id="type-os"><a href="#type-os" class="anchor"></a><code><span class="keyword">type </span>os</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-os.Darwin" class="anchored"><td class="def constructor"><a href="#type-os.Darwin" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Darwin</span></code></td></tr><tr id="type-os.Linux" class="anchored"><td class="def constructor"><a href="#type-os.Linux" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Linux</span></code></td></tr><tr id="type-os.FreeBSD" class="anchored"><td class="def constructor"><a href="#type-os.FreeBSD" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">FreeBSD</span></code></td></tr><tr id="type-os.OpenBSD" class="anchored"><td class="def constructor"><a href="#type-os.OpenBSD" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">OpenBSD</span></code></td></tr><tr id="type-os.NetBSD" class="anchored"><td class="def constructor"><a href="#type-os.NetBSD" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">NetBSD</span></code></td></tr><tr id="type-os.DragonFly" class="anchored"><td class="def constructor"><a href="#type-os.DragonFly" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">DragonFly</span></code></td></tr><tr id="type-os.Cygwin" class="anchored"><td class="def constructor"><a href="#type-os.Cygwin" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Cygwin</span></code></td></tr><tr id="type-os.Win32" class="anchored"><td class="def constructor"><a href="#type-os.Win32" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Win32</span></code></td></tr><tr id="type-os.Unix" class="anchored"><td class="def constructor"><a href="#type-os.Unix" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Unix</span></code></td></tr><tr id="type-os.Other" class="anchored"><td class="def constructor"><a href="#type-os.Other" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Other</span><span class="keyword"> of </span>string</code></td></tr></table><code></code></dt></dl><dl><dt id="val-os"><a href="#val-os" class="anchor"></a><code><span class="keyword">val </span>os : unit <span>&#8209;&gt;</span> <a href="index.html#type-os">os</a></code></dt><dd><p>Queried lazily</p></dd></dl><dl><dt id="val-uname"><a href="#val-uname" class="anchor"></a><code><span class="keyword">val </span>uname : string <span>&#8209;&gt;</span> string option</code></dt><dd><p>The output of the command &quot;uname&quot;, with the given argument. Memoised.</p></dd></dl><dl><dt id="val-executable_name"><a href="#val-executable_name" class="anchor"></a><code><span class="keyword">val </span>executable_name : string <span>&#8209;&gt;</span> string</code></dt><dd><p>Append .exe (only if missing) to executable filenames on Windows</p></dd></dl><dl><dt id="val-guess_shell_compat"><a href="#val-guess_shell_compat" class="anchor"></a><code><span class="keyword">val </span>guess_shell_compat : unit <span>&#8209;&gt;</span> [ `csh | `zsh | `sh | `bash | `fish ]</code></dt><dd><p>Guess the shell compat-mode</p></dd></dl><dl><dt id="val-guess_dot_profile"><a href="#val-guess_dot_profile" class="anchor"></a><code><span class="keyword">val </span>guess_dot_profile : [ `csh | `zsh | `sh | `bash | `fish ] <span>&#8209;&gt;</span> string</code></dt><dd><p>Guess the location of .profile</p></dd></dl><dl><dt id="val-path_sep"><a href="#val-path_sep" class="anchor"></a><code><span class="keyword">val </span>path_sep : char</code></dt><dd><p>The separator character used in the PATH variable (varies depending on OS)</p></dd></dl><dl><dt id="val-split_path_variable"><a href="#val-split_path_variable" class="anchor"></a><code><span class="keyword">val </span>split_path_variable : string <span>&#8209;&gt;</span> string list</code></dt><dd><p>Splits a PATH-like variable separated with <code>path_sep</code>. More involved than it seems, because there may be quoting on Windows.</p></dd></dl></section><section><header><h3 id="exit-handling"><a href="#exit-handling" class="anchor"></a>Exit handling</h3></header><dl><dt id="val-at_exit"><a href="#val-at_exit" class="anchor"></a><code><span class="keyword">val </span>at_exit : (unit <span>&#8209;&gt;</span> unit) <span>&#8209;&gt;</span> unit</code></dt><dd><p>Like Pervasives.at_exit but with the possibility to call manually (eg. before exec())</p></dd></dl><dl><dt id="val-exec_at_exit"><a href="#val-exec_at_exit" class="anchor"></a><code><span class="keyword">val </span>exec_at_exit : unit <span>&#8209;&gt;</span> unit</code></dt><dd><p>Calls the functions registered in at_exit. Unneeded if exiting normally</p></dd></dl><dl><dt id="exception-Exit"><a href="#exception-Exit" class="anchor"></a><code><span class="keyword">exception </span></code><code><span class="exception">Exit</span><span class="keyword"> of </span>int</code></dt><dd><p>Indicates intention to exit the program with given exit code</p></dd></dl><dl><dt id="exception-Exec"><a href="#exception-Exec" class="anchor"></a><code><span class="keyword">exception </span></code><code><span class="exception">Exec</span><span class="keyword"> of </span>string<span class="keyword"> * </span>string array<span class="keyword"> * </span>string array</code></dt><dd><p>Indicates intention to exec() the given command (paramters as per <code>Unix.execvpe</code>), after proper finalisations. It's the responsibility of the main function to catch this, call <code>exec_at_exit</code>, and <code>Unix.execvpe</code>.</p></dd></dl><aside><p>Raises <code>Exit i</code></p></aside><dl><dt id="type-exit_reason"><a href="#type-exit_reason" class="anchor"></a><code><span class="keyword">type </span>exit_reason</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-exit_reason.Success" class="anchored"><td class="def constructor"><a href="#type-exit_reason.Success" class="anchor"></a><code><span class="keyword">| </span></code><code>`Success</code></td></tr><tr id="type-exit_reason.False" class="anchored"><td class="def constructor"><a href="#type-exit_reason.False" class="anchor"></a><code><span class="keyword">| </span></code><code>`False</code></td></tr><tr id="type-exit_reason.Bad_arguments" class="anchored"><td class="def constructor"><a href="#type-exit_reason.Bad_arguments" class="anchor"></a><code><span class="keyword">| </span></code><code>`Bad_arguments</code></td></tr><tr id="type-exit_reason.Not_found" class="anchored"><td class="def constructor"><a href="#type-exit_reason.Not_found" class="anchor"></a><code><span class="keyword">| </span></code><code>`Not_found</code></td></tr><tr id="type-exit_reason.Aborted" class="anchored"><td class="def constructor"><a href="#type-exit_reason.Aborted" class="anchor"></a><code><span class="keyword">| </span></code><code>`Aborted</code></td></tr><tr id="type-exit_reason.Locked" class="anchored"><td class="def constructor"><a href="#type-exit_reason.Locked" class="anchor"></a><code><span class="keyword">| </span></code><code>`Locked</code></td></tr><tr id="type-exit_reason.No_solution" class="anchored"><td class="def constructor"><a href="#type-exit_reason.No_solution" class="anchor"></a><code><span class="keyword">| </span></code><code>`No_solution</code></td></tr><tr id="type-exit_reason.File_error" class="anchored"><td class="def constructor"><a href="#type-exit_reason.File_error" class="anchor"></a><code><span class="keyword">| </span></code><code>`File_error</code></td></tr><tr id="type-exit_reason.Package_operation_error" class="anchored"><td class="def constructor"><a href="#type-exit_reason.Package_operation_error" class="anchor"></a><code><span class="keyword">| </span></code><code>`Package_operation_error</code></td></tr><tr id="type-exit_reason.Sync_error" class="anchored"><td class="def constructor"><a href="#type-exit_reason.Sync_error" class="anchor"></a><code><span class="keyword">| </span></code><code>`Sync_error</code></td></tr><tr id="type-exit_reason.Configuration_error" class="anchored"><td class="def constructor"><a href="#type-exit_reason.Configuration_error" class="anchor"></a><code><span class="keyword">| </span></code><code>`Configuration_error</code></td></tr><tr id="type-exit_reason.Solver_failure" class="anchored"><td class="def constructor"><a href="#type-exit_reason.Solver_failure" class="anchor"></a><code><span class="keyword">| </span></code><code>`Solver_failure</code></td></tr><tr id="type-exit_reason.Internal_error" class="anchored"><td class="def constructor"><a href="#type-exit_reason.Internal_error" class="anchor"></a><code><span class="keyword">| </span></code><code>`Internal_error</code></td></tr><tr id="type-exit_reason.User_interrupt" class="anchored"><td class="def constructor"><a href="#type-exit_reason.User_interrupt" class="anchor"></a><code><span class="keyword">| </span></code><code>`User_interrupt</code></td></tr></table><code> ]</code><code></code></dt></dl><dl><dt id="val-exit_codes"><a href="#val-exit_codes" class="anchor"></a><code><span class="keyword">val </span>exit_codes : (<a href="index.html#type-exit_reason">exit_reason</a><span class="keyword"> * </span>int) list</code></dt><dt id="val-get_exit_code"><a href="#val-get_exit_code" class="anchor"></a><code><span class="keyword">val </span>get_exit_code : <a href="index.html#type-exit_reason">exit_reason</a> <span>&#8209;&gt;</span> int</code></dt><dt id="val-exit_because"><a href="#val-exit_because" class="anchor"></a><code><span class="keyword">val </span>exit_because : <a href="index.html#type-exit_reason">exit_reason</a> <span>&#8209;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Raises <code>Exit</code>, with the code associated to the exit reason</p></dd></dl></section></body></html>