<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Alcotest (alcotest.Alcotest)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><header><nav><a href="../index.html">Up</a> â€“ package <a href="../index.html">alcotest</a></nav><h1>Module <code>Alcotest</code></h1><p>A lightweight and colourful test framework.</p><p><code>Alcotest</code> provides a simple interface to perform unit tests. It exposes a simple <a href="module-type-TESTABLE/index.html"><span>TESTABLE</span></a> module type, a <a href="index.html#val-check"><span>check function</span></a> to assert test predicates and a <a href="index.html#val-run"><span>run</span></a> function to perform a list of <code>unit -&gt; unit</code> test callbacks.</p><p>From these descriptions, <code>Alcotest</code> builds a quiet and colorful output where only faulty runs are fully displayed at the end of the run (with the full logs ready to inspect), with a simple (yet expressive) query language to select the tests to run.</p><p><em>Release 0.8.3</em></p></header><dl><dt id="type-speed_level"><a href="#type-speed_level" class="anchor"></a><code><span class="keyword">type </span>speed_level</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-speed_level.Quick" class="anchored"><td class="def constructor"><a href="#type-speed_level.Quick" class="anchor"></a><code><span class="keyword">| </span></code><code>`Quick</code></td></tr><tr id="type-speed_level.Slow" class="anchored"><td class="def constructor"><a href="#type-speed_level.Slow" class="anchor"></a><code><span class="keyword">| </span></code><code>`Slow</code></td></tr></table><code> ]</code><code></code></dt><dd><p>Speed level for a test.</p></dd></dl><dl><dt id="type-test_case"><a href="#type-test_case" class="anchor"></a><code><span class="keyword">type </span>'a test_case</code><code><span class="keyword"> = </span>string<span class="keyword"> * </span><a href="index.html#type-speed_level">speed_level</a><span class="keyword"> * </span>(<span class="type-var">'a</span> <span>&#8209;&gt;</span> unit)</code><code></code></dt><dd><p>A test case is an UTF-8 encoded documentation string, a speed level and a function to execute.</p></dd></dl><dl><dt id="val-test_case"><a href="#val-test_case" class="anchor"></a><code><span class="keyword">val </span>test_case : string <span>&#8209;&gt;</span> <a href="index.html#type-speed_level">speed_level</a> <span>&#8209;&gt;</span> (<span class="type-var">'a</span> <span>&#8209;&gt;</span> unit) <span>&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-test_case">test_case</a></code></dt><dd><p><code>test_case n s f</code> is the test case <code>n</code> running at speed <code>s</code> using the function <code>f</code>.</p></dd></dl><dl><dt id="type-test"><a href="#type-test" class="anchor"></a><code><span class="keyword">type </span>'a test</code><code><span class="keyword"> = </span>string<span class="keyword"> * </span><span class="type-var">'a</span> <a href="index.html#type-test_case">test_case</a> list</code><code></code></dt><dd><p>A test is an US-ASCII encoded name and a list of test cases.</p></dd></dl><dl><dt id="exception-Test_error"><a href="#exception-Test_error" class="anchor"></a><code><span class="keyword">exception </span></code><code><span class="exception">Test_error</span></code></dt><dd><p>The exception return by <a href="index.html#val-run"><code>run</code></a> in case of errors.</p></dd></dl><dl><dt id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">val </span>run : ?&#8288;and_exit:bool <span>&#8209;&gt;</span> ?&#8288;argv:string array <span>&#8209;&gt;</span> string <span>&#8209;&gt;</span> unit <a href="index.html#type-test">test</a> list <span>&#8209;&gt;</span> unit</code></dt><dd><p><code>run n t</code> runs the test suite <code>t</code>. <code>n</code> is the name of the tested library.</p><p>The optional argument <code>and_exit</code> controls what happens when the function ends. By default, <code>and_exit</code> is set, which makes the function exit with <code>0</code> if everything is fine or <code>1</code> if there is an issue. If <code>and_exit</code> is <code>false</code>, then the function raises <code>Test_error</code> on error.</p><p>The optional argument <code>argv</code> specifies the argument sent to alcotest like <code>&quot;--json&quot;</code>, <code>&quot;--verbose&quot;</code>, etc. (at least one argument is required).</p></dd></dl><dl><dt id="val-run_with_args"><a href="#val-run_with_args" class="anchor"></a><code><span class="keyword">val </span>run_with_args : ?&#8288;and_exit:bool <span>&#8209;&gt;</span> ?&#8288;argv:string array <span>&#8209;&gt;</span> string <span>&#8209;&gt;</span> <span class="type-var">'a</span> <a href="../../cmdliner/Cmdliner/Term/index.html#type-t">Cmdliner.Term.t</a> <span>&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-test">test</a> list <span>&#8209;&gt;</span> unit</code></dt><dd><p><code>run_with_args n a t</code> Similar to <code>run a t</code> but take an extra argument <code>a</code>. Every test function will receive as arguement the evaluation of the <code>Cdmliner</code> term <code>a</code>: this is useful to configure the test behaviors using the CLI.</p></dd></dl></body></html>